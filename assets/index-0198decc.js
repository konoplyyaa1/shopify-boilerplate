function m(e,t){typeof e=="string"&&(e=e.replace(".",""));var r="",h=/\{\{\s*(\w+)\s*\}\}/,u=`{{amount}} ${t}`;function s(a,i){return typeof a>"u"?i:a}function o(a,i,n,c){if(i=s(i,2),n=s(n,","),c=s(c,"."),isNaN(a)||a==null)return 0;a=(a/100).toFixed(i);var d=a.split("."),p=d[0].replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1"+n),l=d[1]?c+d[1]:"";return p+l}switch(u.match(h)[1]){case"amount":r=o(e,2);break;case"amount_no_decimals":r=o(e,0);break;case"amount_with_comma_separator":r=o(e,2,".",",");break;case"amount_no_decimals_with_comma_separator":r=o(e,0,".",",");break}return u.replace(h,r)}class f extends HTMLElement{constructor(){super(),this.product=JSON.parse(document.querySelector("[data-product-json]").innerHTML),this.form=this.querySelector("form"),this.button=this.querySelector('[type="submit"]'),this.options=this.querySelectorAll('[type="radio"]'),this.price=this.querySelector("[data-price]"),this.form.addEventListener("input",this.updateVariant.bind(this))}getSelectedOptions(){return this.selectedOptions=[],this.options.forEach(t=>{t.checked&&this.selectedOptions.push(t.value)}),this.matchedVariant=this.product.variants.find(t=>t.title===this.selectedOptions.join(" / ")),this.matchedVariant}updateURLHash(){const t=new URLSearchParams(window.location.search),r=this.getSelectedOptions();r&&t.set("variant",r.id),window.history.replaceState({},"",`${window.location.pathname}?${t}`)}updateProductPrice(){this.price.textContent=m(this.getSelectedOptions().price,Shopify.currency.active)}updateVariant(){this.updateURLHash(),this.updateProductPrice()}}customElements.define("product-form",f);
